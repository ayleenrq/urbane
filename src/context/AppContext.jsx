import { createContext, useContext, useState, useMemo } from "react";

const AppContext = createContext(null);

// ── Master property list (single source of truth) ──
export const ALL_PROPERTIES = [
    {
        id: 1,
        image: "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600573472592-401b489a3cdc?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=500&h=400&fit=crop&q=80",
        ],
        title: "Villa Pondok Indah",
        description: "A spacious villa with a private pool, three bedrooms, and lush tropical gardens. Perfect for families seeking tranquility within the city.",
        features: ["Private pool", "Tropical garden", "Open-plan kitchen", "Smart home", "2-car garage"],
        price: "$640",
        priceRange: "$640–$950/mo",
        priceNumeric: 640,
        period: "Month",
        type: "Villa",
        tab: ["Rent"],
        rentalPeriod: ["Long term"],
        beds: 3,
        baths: 2,
        area: "180 m²",
        amenities: ["Pool", "Garden"],
        location: "South Jakarta",
        agentName: "Maddie Molina",
        agentImg: "https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 2,
        image: "https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1516455590571-18256e5bb9ff?w=500&h=400&fit=crop&q=80",
        ],
        title: "Sunset Ridge Estate",
        description: "A panoramic hilltop estate with sweeping views, private infinity pool, and resort-style landscaping — the pinnacle of luxury living.",
        features: ["Home cinema", "Infinity pool", "Wine cellar", "Golf access", "Guest house"],
        price: "$1,200",
        priceRange: "$1,200–$1,800/mo",
        priceNumeric: 1200,
        period: "Month",
        type: "House",
        tab: ["Rent", "Buy"],
        rentalPeriod: ["Long term"],
        beds: 5,
        baths: 4,
        area: "310 m²",
        amenities: ["Pool", "Garden", "Garage"],
        location: "Bintaro Sector 9",
        agentName: "Kevin Hartman",
        agentImg: "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=64&h=64&fit=crop&q=80",
        featured: true,
    },
    {
        id: 3,
        image: "https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=500&h=400&fit=crop&q=80",
        ],
        title: "Heritage Townhouse",
        description: "Colonial-style townhouse with original hardwood floors, 3 levels, and a private courtyard — history meets modern comfort.",
        features: ["Hardwood floors", "Private courtyard", "3-level layout", "Period fireplace", "Garden terrace"],
        price: "$920",
        priceRange: "$920–$1,100/mo",
        priceNumeric: 920,
        period: "Month",
        type: "House",
        tab: ["Rent", "Sell"],
        rentalPeriod: ["Long term"],
        beds: 3,
        baths: 2,
        area: "220 m²",
        amenities: ["Garden"],
        location: "Menteng",
        agentName: "Sarah Kim",
        agentImg: "https://images.unsplash.com/photo-1580489944761-15a19d654956?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 4,
        image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1588880331179-bc9b93a8cb5e?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1583608205776-bfd35f0d9f83?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=500&h=400&fit=crop&q=80",
        ],
        title: "The Lakefront Pavilion",
        description: "Exclusive lakefront property with private dock, expansive decks, and floor-to-ceiling glass walls overlooking a pristine lake.",
        features: ["Private dock", "Glass walls", "Rooftop deck", "Chef's kitchen", "Home automation"],
        price: "$2,400",
        priceRange: "$2,400–$3,000/mo",
        priceNumeric: 2400,
        period: "Month",
        type: "Residential",
        tab: ["Buy", "Sell"],
        rentalPeriod: ["Long term"],
        beds: 5,
        baths: 4,
        area: "380 m²",
        amenities: ["Pool", "Garage"],
        location: "Sentul City",
        agentName: "James Porter",
        agentImg: "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=64&h=64&fit=crop&q=80",
        featured: true,
    },
    {
        id: 5,
        image: "https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1531971589569-0d9370cbe1e5?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1593714882938-f3631e15e7fc?w=500&h=400&fit=crop&q=80",
        ],
        title: "Garden View Residence",
        description: "Charming suburban home with wraparound porch, 4 bedrooms, and a beautifully landscaped garden — ideal for large families.",
        features: ["Wraparound porch", "Landscaped garden", "Double garage", "Family room", "BBQ area"],
        price: "$780",
        priceRange: "$780–$1,100/mo",
        priceNumeric: 780,
        period: "Month",
        type: "House",
        tab: ["Rent", "Sell"],
        rentalPeriod: ["Long term"],
        beds: 4,
        baths: 3,
        area: "250 m²",
        amenities: ["Garden", "Garage"],
        location: "Depok",
        agentName: "Maddie Molina",
        agentImg: "https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 6,
        image: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1612637968894-660373e23b03?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=500&h=400&fit=crop&q=80",
        ],
        title: "Villa Pondok Tanjung",
        description: "Modern living at its finest — open-plan kitchen, soaring high ceilings, and a double-car garage in a prestigious gated estate.",
        features: ["Open-plan kitchen", "High ceilings", "Double garage", "Garden pergola", "Solar panels"],
        price: "$840",
        priceRange: "$840–$950/mo",
        priceNumeric: 840,
        period: "Month",
        type: "Villa",
        tab: ["Rent", "Buy"],
        rentalPeriod: ["Long term"],
        beds: 4,
        baths: 3,
        area: "200 m²",
        amenities: ["Garage", "Garden"],
        location: "Pondok Indah",
        agentName: "Kevin Hartman",
        agentImg: "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=64&h=64&fit=crop&q=80",
        featured: true,
    },
    {
        id: 7,
        image: "https://images.unsplash.com/photo-1583608205776-bfd35f0d9f83?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1583608205776-bfd35f0d9f83?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=500&h=400&fit=crop&q=80",
        ],
        title: "Emerald Heights Condo",
        description: "City-view condo with modern amenities, gym access, and rooftop terrace in the heart of downtown — urban living perfected.",
        features: ["Rooftop terrace", "Gym access", "City views", "Concierge", "Underground parking"],
        price: "$512",
        priceRange: "$512–$720/mo",
        priceNumeric: 512,
        period: "Month",
        type: "Apartment",
        tab: ["Rent"],
        rentalPeriod: ["Short term", "Long term"],
        beds: 2,
        baths: 1,
        area: "90 m²",
        amenities: ["Gym"],
        location: "Central Jakarta",
        agentName: "Sarah Kim",
        agentImg: "https://images.unsplash.com/photo-1580489944761-15a19d654956?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 8,
        image: "https://images.unsplash.com/photo-1546874177-9e664107314e?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1546874177-9e664107314e?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?w=500&h=400&fit=crop&q=80",
        ],
        title: "Coastal Breeze Villa",
        description: "Beachfront villa steps from the shore — private beach, summer kitchen, 6 beds, and an oceanfront infinity pool.",
        features: ["Private beach", "Oceanfront pool", "Summer kitchen", "Beach cabin", "Outdoor shower"],
        price: "$3,200",
        priceRange: "$3,200–$4,000/mo",
        priceNumeric: 3200,
        period: "Month",
        type: "Villa",
        tab: ["Rent", "Buy"],
        rentalPeriod: ["Short term"],
        beds: 5,
        baths: 5,
        area: "420 m²",
        amenities: ["Pool", "Garage"],
        location: "Ancol",
        agentName: "James Porter",
        agentImg: "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=64&h=64&fit=crop&q=80",
        featured: true,
    },
    {
        id: 9,
        image: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=500&h=400&fit=crop&q=80",
        ],
        title: "Skyline Penthouse",
        description: "Breathtaking city views from this fully furnished penthouse with private rooftop terrace and wraparound floor-to-ceiling glass.",
        features: ["Rooftop terrace", "City panorama", "Private lift", "Wine bar", "Jacuzzi"],
        price: "$1,800",
        priceRange: "$1,800–$2,200/mo",
        priceNumeric: 1800,
        period: "Month",
        type: "Apartment",
        tab: ["Rent", "Buy"],
        rentalPeriod: ["Long term"],
        beds: 3,
        baths: 2,
        area: "160 m²",
        amenities: ["Gym", "Pool"],
        location: "SCBD Jakarta",
        agentName: "Kevin Hartman",
        agentImg: "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 10,
        image: "https://images.unsplash.com/photo-1531971589569-0d9370cbe1e5?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1531971589569-0d9370cbe1e5?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1580580490079-c38b63ac27fb?w=500&h=400&fit=crop&q=80",
        ],
        title: "Modern Cube House",
        description: "Award-winning cubic residence with smart home integration, Zen garden, and a minimalist aesthetic that redefines modern architecture.",
        features: ["Smart home system", "Zen garden", "Solar energy", "Home gym", "Open terrace"],
        price: "$1,350",
        priceRange: "$1,350–$1,700/mo",
        priceNumeric: 1350,
        period: "Month",
        type: "Residential",
        tab: ["Buy"],
        rentalPeriod: ["Long term"],
        beds: 4,
        baths: 3,
        area: "270 m²",
        amenities: ["Garden", "Garage", "Pool"],
        location: "BSD City",
        agentName: "Maddie Molina",
        agentImg: "https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 11,
        image: "https://images.unsplash.com/photo-1574362848149-11496d93a7c7?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1574362848149-11496d93a7c7?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=500&h=400&fit=crop&q=80",
        ],
        title: "Urban Loft Studio",
        description: "Stylish exposed-brick loft in the arts district — perfect for young professionals. Polished concrete floors and designer fixtures.",
        features: ["Exposed brick", "Concrete floors", "Artist lighting", "Balcony nook", "Secure entry"],
        price: "$480",
        priceRange: "$480–$600/mo",
        priceNumeric: 480,
        period: "Month",
        type: "Apartment",
        tab: ["Rent"],
        rentalPeriod: ["Short term", "Long term"],
        beds: 1,
        baths: 1,
        area: "55 m²",
        amenities: ["Gym"],
        location: "Menteng",
        agentName: "Sarah Kim",
        agentImg: "https://images.unsplash.com/photo-1580489944761-15a19d654956?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 12,
        image: "https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1574362848149-11496d93a7c7?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1612637968894-660373e23b03?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=500&h=400&fit=crop&q=80",
        ],
        title: "Riverside Apartment",
        description: "Bright 2-bedroom riverside apartment with balcony overlooking the water, gym, and secure underground parking in a quiet enclave.",
        features: ["River views", "Private balcony", "Gym access", "Underground parking", "24h security"],
        price: "$680",
        priceRange: "$680–$850/mo",
        priceNumeric: 680,
        period: "Month",
        type: "Apartment",
        tab: ["Rent"],
        rentalPeriod: ["Short term", "Long term"],
        beds: 2,
        baths: 1,
        area: "95 m²",
        amenities: ["Gym", "Garage"],
        location: "Pluit",
        agentName: "James Porter",
        agentImg: "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 13,
        image: "https://images.unsplash.com/photo-1523217582562-09d0def993a6?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1523217582562-09d0def993a6?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=500&h=400&fit=crop&q=80",
        ],
        title: "White Pearl Mansion",
        description: "Grand neo-classical mansion with marble interiors, 6 ensuite bedrooms, and an Olympic-size pool in a gated compound.",
        features: ["Marble interiors", "Olympic pool", "6 en-suites", "Grand ballroom", "Staff quarters"],
        price: "$4,500",
        priceRange: "$4,500–$6,000/mo",
        priceNumeric: 4500,
        period: "Month",
        type: "House",
        tab: ["Buy", "Rent"],
        rentalPeriod: ["Long term"],
        beds: 5,
        baths: 6,
        area: "600 m²",
        amenities: ["Pool", "Garden", "Garage", "Gym"],
        location: "Kebayoran Baru",
        agentName: "Kevin Hartman",
        agentImg: "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=64&h=64&fit=crop&q=80",
        featured: true,
    },
    {
        id: 14,
        image: "https://images.unsplash.com/photo-1558442074-3c19857bc1f4?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1558442074-3c19857bc1f4?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1612637968894-660373e23b03?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=500&h=400&fit=crop&q=80",
        ],
        title: "Tropical Garden Villa",
        description: "Serene villa surrounded by tropical gardens, complete with open-air living spaces, a koi pond, and a private meditation pavilion.",
        features: ["Koi pond", "Open-air living", "Meditation pavilion", "Fruit orchard", "Yoga deck"],
        price: "$950",
        priceRange: "$950–$1,300/mo",
        priceNumeric: 950,
        period: "Month",
        type: "Villa",
        tab: ["Rent", "Buy"],
        rentalPeriod: ["Long term"],
        beds: 3,
        baths: 3,
        area: "220 m²",
        amenities: ["Garden", "Pool"],
        location: "Cibubur",
        agentName: "Maddie Molina",
        agentImg: "https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 15,
        image: "https://images.unsplash.com/photo-1580580490079-c38b63ac27fb?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1580580490079-c38b63ac27fb?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1612637968894-660373e23b03?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1574362848149-11496d93a7c7?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=500&h=400&fit=crop&q=80",
        ],
        title: "The Metropolitan Suite",
        description: "Premium serviced suite in the city center with personal concierge, lap pool, and unapologetic panoramic skyline views.",
        features: ["Concierge service", "Lap pool", "Sky views", "Furnished", "Conference room"],
        price: "$2,100",
        priceRange: "$2,100–$2,600/mo",
        priceNumeric: 2100,
        period: "Month",
        type: "Apartment",
        tab: ["Rent"],
        rentalPeriod: ["Short term", "Long term"],
        beds: 2,
        baths: 2,
        area: "130 m²",
        amenities: ["Gym", "Pool"],
        location: "Sudirman CBD",
        agentName: "Sarah Kim",
        agentImg: "https://images.unsplash.com/photo-1580489944761-15a19d654956?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 16,
        image: "https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1558442074-3c19857bc1f4?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=500&h=400&fit=crop&q=80",
        ],
        title: "Bamboo Forest Retreat",
        description: "Eco-designed retreat nestled among bamboo groves with a meditation pavilion, natural pools, and breathtaking highland surroundings.",
        features: ["Bamboo architecture", "Natural pools", "Meditation room", "Organic garden", "Rainwater system"],
        price: "$1,100",
        priceRange: "$1,100–$1,400/mo",
        priceNumeric: 1100,
        period: "Month",
        type: "Villa",
        tab: ["Rent"],
        rentalPeriod: ["Short term", "Long term"],
        beds: 3,
        baths: 2,
        area: "190 m²",
        amenities: ["Garden", "Pool"],
        location: "Puncak",
        agentName: "James Porter",
        agentImg: "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 17,
        image: "https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=500&h=400&fit=crop&q=80",
        ],
        title: "Prestige Corner House",
        description: "Stately corner house on the most sought-after street in South Jakarta — fully renovated with luxury finishes throughout.",
        features: ["Luxury finishes", "Corner lot", "4-car garage", "Swimming pool", "Security gates"],
        price: "$2,800",
        priceRange: "$2,800–$3,500/mo",
        priceNumeric: 2800,
        period: "Month",
        type: "House",
        tab: ["Buy", "Sell"],
        rentalPeriod: ["Long term"],
        beds: 5,
        baths: 4,
        area: "340 m²",
        amenities: ["Pool", "Garage", "Garden"],
        location: "Kemang",
        agentName: "Kevin Hartman",
        agentImg: "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=64&h=64&fit=crop&q=80",
        featured: true,
    },
    {
        id: 18,
        image: "https://images.unsplash.com/photo-1588880331179-bc9b93a8cb5e?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1588880331179-bc9b93a8cb5e?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1531971589569-0d9370cbe1e5?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1558442074-3c19857bc1f4?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1580580490079-c38b63ac27fb?w=500&h=400&fit=crop&q=80",
        ],
        title: "Glass Box Residence",
        description: "Award-winning all-glass home with panoramic forest views and a stunning cantilevered terrace that floats above a valley.",
        features: ["All-glass facade", "Forest views", "Cantilevered deck", "Indoor waterfall", "Studio space"],
        price: "$1,600",
        priceRange: "$1,600–$2,000/mo",
        priceNumeric: 1600,
        period: "Month",
        type: "Residential",
        tab: ["Buy", "Sell"],
        rentalPeriod: ["Long term"],
        beds: 4,
        baths: 3,
        area: "280 m²",
        amenities: ["Garden", "Pool"],
        location: "Serpong",
        agentName: "Maddie Molina",
        agentImg: "https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 19,
        image: "https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1574362848149-11496d93a7c7?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=500&h=400&fit=crop&q=80",
        ],
        title: "Tropical Breeze Condo",
        description: "Resort-feel condo tower surrounded by palms — Olympic pool, tennis courts, sky lounge, and a 24-hour concierge.",
        features: ["Olympic pool", "Tennis courts", "Sky lounge", "24h concierge", "Shuttle service"],
        price: "$720",
        priceRange: "$720–$920/mo",
        priceNumeric: 720,
        period: "Month",
        type: "Apartment",
        tab: ["Rent", "Buy"],
        rentalPeriod: ["Long term"],
        beds: 2,
        baths: 2,
        area: "105 m²",
        amenities: ["Pool", "Gym"],
        location: "Kelapa Gading",
        agentName: "Sarah Kim",
        agentImg: "https://images.unsplash.com/photo-1580489944761-15a19d654956?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 20,
        image: "https://images.unsplash.com/photo-1593714882938-f3631e15e7fc?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1593714882938-f3631e15e7fc?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=500&h=400&fit=crop&q=80",
        ],
        title: "Cliffside Retreat",
        description: "Dramatic cliffside home with private elevator, infinity pool overlooking the valley — a breathtaking escape above the clouds.",
        features: ["Private elevator", "Valley views", "Infinity pool", "Helipad access", "Wine cellar"],
        price: "$3,800",
        priceRange: "$3,800–$4,800/mo",
        priceNumeric: 3800,
        period: "Month",
        type: "Villa",
        tab: ["Buy"],
        rentalPeriod: ["Long term"],
        beds: 5,
        baths: 5,
        area: "450 m²",
        amenities: ["Pool", "Garage", "Garden"],
        location: "Bandung Hills",
        agentName: "James Porter",
        agentImg: "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=64&h=64&fit=crop&q=80",
        featured: true,
    },
    {
        id: 21,
        image: "https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1574362848149-11496d93a7c7?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1612637968894-660373e23b03?w=500&h=400&fit=crop&q=80",
        ],
        title: "Minimalist Studio Loft",
        description: "Chic minimalist studio with polished concrete floors, Juliet balcony, and curated designer finishes — effortlessly cool.",
        features: ["Concrete floors", "Juliet balcony", "Designer kitchen", "Built-in wardrobes", "Bike storage"],
        price: "$420",
        priceRange: "$420–$520/mo",
        priceNumeric: 420,
        period: "Month",
        type: "Apartment",
        tab: ["Rent"],
        rentalPeriod: ["Short term", "Long term"],
        beds: 1,
        baths: 1,
        area: "48 m²",
        amenities: ["Gym"],
        location: "Cikini",
        agentName: "Sarah Kim",
        agentImg: "https://images.unsplash.com/photo-1580489944761-15a19d654956?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 22,
        image: "https://images.unsplash.com/photo-1512915922686-57c11dde9b6b?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1512915922686-57c11dde9b6b?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=500&h=400&fit=crop&q=80",
        ],
        title: "Orchard Estate",
        description: "Expansive family estate with fruit orchards, a private tennis court, a 7-car garage, and a professional chef's kitchen.",
        features: ["Fruit orchards", "Tennis court", "7-car garage", "Chef's kitchen", "Cinema room"],
        price: "$5,200",
        priceRange: "$5,200–$6,800/mo",
        priceNumeric: 5200,
        period: "Month",
        type: "House",
        tab: ["Buy"],
        rentalPeriod: ["Long term"],
        beds: 5,
        baths: 6,
        area: "750 m²",
        amenities: ["Pool", "Garden", "Garage", "Gym"],
        location: "Cinere",
        agentName: "Kevin Hartman",
        agentImg: "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=64&h=64&fit=crop&q=80",
        featured: true,
    },
    {
        id: 23,
        image: "https://images.unsplash.com/photo-1565183997392-2f6f122e5912?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1565183997392-2f6f122e5912?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1558442074-3c19857bc1f4?w=500&h=400&fit=crop&q=80",
        ],
        title: "Riverside Towncluster",
        description: "Gated riverside cluster with private riverside deck, professional gym, and 24-hour security — smart family living.",
        features: ["Riverside deck", "Professional gym", "24h security", "Club access", "Playground"],
        price: "$1,050",
        priceRange: "$1,050–$1,350/mo",
        priceNumeric: 1050,
        period: "Month",
        type: "Residential",
        tab: ["Rent", "Buy"],
        rentalPeriod: ["Long term"],
        beds: 3,
        baths: 2,
        area: "175 m²",
        amenities: ["Garden", "Gym", "Garage"],
        location: "Tangerang Selatan",
        agentName: "James Porter",
        agentImg: "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
    {
        id: 24,
        image: "https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?w=800&h=600&fit=crop&q=80",
        images: [
            "https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?w=900&h=700&fit=crop&q=80",
            "https://images.unsplash.com/photo-1558442074-3c19857bc1f4?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=500&h=400&fit=crop&q=80",
            "https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=500&h=400&fit=crop&q=80",
        ],
        title: "Tropical Pool House",
        description: "Stunning Balinese-inspired pool house with open living spaces, lush tropical landscaping, and an overflowing infinity pool.",
        features: ["Infinity pool", "Balinese design", "Open living", "Tropical landscaping", "Outdoor dining"],
        price: "$1,700",
        priceRange: "$1,700–$2,200/mo",
        priceNumeric: 1700,
        period: "Month",
        type: "Villa",
        tab: ["Rent", "Buy"],
        rentalPeriod: ["Short term", "Long term"],
        beds: 4,
        baths: 3,
        area: "260 m²",
        amenities: ["Pool", "Garden"],
        location: "Seminyak, Bali",
        agentName: "Maddie Molina",
        agentImg: "https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?w=64&h=64&fit=crop&q=80",
        featured: false,
    },
];

export function AppProvider({ children }) {
    const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
    const [activeTab, setActiveTab] = useState("Buy");
    const [activeFilter, setActiveFilter] = useState("All");
    const [searchValues, setSearchValues] = useState({ type: "", location: "", price: "", rooms: "" });
    const [sidebarTab, setSidebarTab] = useState("Rent");
    const [longTerm, setLongTerm] = useState(true);
    const [shortTerm, setShortTerm] = useState(false);
    const [priceRange, setPriceRange] = useState(5000);
    const [selectedAmenities, setSelectedAmenities] = useState([]);
    const [activeBedroom, setActiveBedroom] = useState("Any");

    const toggleAmenity = (amenity) =>
        setSelectedAmenities((prev) =>
            prev.includes(amenity) ? prev.filter((a) => a !== amenity) : [...prev, amenity]
        );

    const filteredProperties = useMemo(() => {
        return ALL_PROPERTIES.filter((p) => {
            if (!p.tab.includes(sidebarTab)) return false;
            if (activeFilter !== "All" && p.type !== activeFilter) return false;
            if (longTerm || shortTerm) {
                const allowed = [];
                if (longTerm) allowed.push("Long term");
                if (shortTerm) allowed.push("Short term");
                if (!p.rentalPeriod.some((r) => allowed.includes(r))) return false;
            }
            if (p.priceNumeric > priceRange) return false;
            if (selectedAmenities.length > 0 && !selectedAmenities.every((a) => p.amenities.includes(a))) return false;
            if (activeBedroom !== "Any") {
                if (activeBedroom === "5+") { if (p.beds < 5) return false; }
                else if (p.beds !== parseInt(activeBedroom)) return false;
            }
            if (searchValues.type && !p.type.toLowerCase().includes(searchValues.type.toLowerCase()) &&
                !p.title.toLowerCase().includes(searchValues.type.toLowerCase())) return false;
            if (searchValues.location && !p.location.toLowerCase().includes(searchValues.location.toLowerCase())) return false;
            if (searchValues.price) {
                const maxInput = parseFloat(searchValues.price.replace(/[^0-9.]/g, ""));
                if (!isNaN(maxInput) && p.priceNumeric > maxInput) return false;
            }
            if (searchValues.rooms) {
                const roomsInput = parseInt(searchValues.rooms);
                if (!isNaN(roomsInput)) {
                    if (roomsInput >= 5) { if (p.beds < 5) return false; }
                    else if (p.beds !== roomsInput) return false;
                }
            }
            return true;
        });
    }, [sidebarTab, activeFilter, longTerm, shortTerm, priceRange, selectedAmenities, activeBedroom, searchValues]);

    return (
        <AppContext.Provider value={{
            mobileMenuOpen, setMobileMenuOpen,
            activeTab, setActiveTab,
            activeFilter, setActiveFilter,
            searchValues, setSearchValues,
            sidebarTab, setSidebarTab,
            longTerm, setLongTerm,
            shortTerm, setShortTerm,
            priceRange, setPriceRange,
            selectedAmenities, toggleAmenity,
            activeBedroom, setActiveBedroom,
            filteredProperties,
        }}>
            {children}
        </AppContext.Provider>
    );
}

export const useAppContext = () => useContext(AppContext);
